<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">

    <title>Bases de datos NoSQL - OurBit</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Go to www.addthis.com/dashboard to customize your tools -->
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-55d608d53393428d" async="async"></script>
    <!-- Post Header -->
    <!--Google Analytics-->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-66576431-1', 'auto');
      ga('send', 'pageview');

    </script>

    <link rel="canonical" href="http://ourbit.github.io//es/2011/02/24/bases-de-datos-nosql/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/es">OurBit</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/es">Inicio</a>
                </li>
                <li>
                    <a href="/es/about">Acerca</a>
                </li>
                <li>
                    <a href="/es/archives">archivo</a>
                </li>
                <li>
                
                    
                    <a href="/en/2011/02/24/bases-de-datos-nosql/" >English Version</a>
                
              </li>

                <!-- 
                <li>
                    <a href="/es/en/about/">About</a>
                </li>
                
                <li>
                    <a href="/es/about/">Acerca de</a>
                </li>
                
                <li>
                    <a href="/en/archives/">Archives</a>
                </li>
                
                <li>
                    <a href="/es/archives/">Archivo</a>
                </li>
                
                <li>
                    <a href="/en/about/">About</a>
                </li>
                
                <li>
                    <a href="/en/es/about/">Acerca de</a>
                </li>
                
                <li>
                    <a href="/es/en/archives/">Archives</a>
                </li>
                
                <li>
                    <a href="/en/es/archives/">Archivo</a>
                </li>
                
                <li>
                    <a href="/en/feed.xml"></a>
                </li>
                
                <li>
                    <a href="/en/"></a>
                </li>
                 -->
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <script>
$(window).scroll(function(e) {


     if($(window).scrollTop() <= $(document).height()/2) {
        oVal = ($(window).scrollTop() / 170);
    } else {
        oVal = ($(document).height() -
        $(window).scrollTop() -
        $(window).height()) / 170;

    }



    $(".blur").css("opacity", oVal);
    

});
</script>

<div class="img-src" style="background-image: url('/img/header-background.jpg')"></div>
<div class="img-src blur" style="background-image: url('/img/header-background-blur.jpg')"></div>

<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Bases de datos NoSQL</h1>
                    
                    <span class="meta">Publicado por nohorbee el
                      
                      
  
  24 de
  
  Febrero
    


de 2011


                    </span>
                </div>
            </div>
        </div>
    </div>
</header>
<!-- Post Content -->
<article>
    <div class="content-wrapper">
      <div class="container">
          <div class="row">
              <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

  				Durante estos días, estoy teniendo bastante trabajo (por eso la ausencia de posts por aquí). Uno de los proyectos con los que estoy trabajando, utiliza para la persistencia de datos un enfoque Schemaless/NoSQL aplicado sobre tecnología DB2 pureXML. De esto trata este POST.<br /><br />Primero, una aclaración respecto del término NoSQL. En un principio, surgió el término como forma de diferenciar AMPLIAMENTE una base de datos relacional (consultada mediante SQL) de una que no lo era. Luego, el término quedó como una forma simpática de abreviar <b>N</b>ot <b>O</b>nly <b>SQL</b>, indicando que las bases híbridas, pueden ser consideradas dentro del grupo de las NoSQL.<div><br /></div><div>Pero lo realmente importante, escapa al nombre e incluso a como funciona, y el foco debe realmente ser puesto en primer lugar en ¿Por qué y para qué querríamos abandonar nuestro ya conocido, probado, confiable y robusto esquema relacional?</div><div><br /></div><div>En mi caso la respuesta comienza siendo sencilla. Durante al menos los últimos 6 años de mi carrera, me he encontrado con requerimientos (en el límite de lo funcional y lo no funcional) que exigían representar entidades heterogeneas, configurables, flexibles y adaptables. Exacto, nadie dice qué tan flexibles deben ser estas entidades, pero todos afirman que deben serlo. Entonces, antes de cualquier análisis costo-beneficio, alguien siempre "salta" con el típico diseño de flexibilidad sobre un esquema relacional: "Una tabla con 2 campos. CLAVE - VALOR". Quizas algún campo más que indique a que entidad corresponden las claves y en otra tabla, una relación conteniendo el valor.</div><div style="text-align: center;"><img src="http://4.bp.blogspot.com/-Nycm8O-OiwY/TWcSCu-EXwI/AAAAAAAABok/Aqyo6GhW8tA/s400/catalogue.PNG" style="cursor:pointer; cursor:hand;width: 400px; height: 211px;" border="0" alt="" id="BLOGGER_PHOTO_ID_5577446501699051266" /></div><div><br /></div><div>Ahora bien, esta solución, intenta romper el principal paradigma de una base de datos relacional (con estructura de tablas y relaciones): "Las entidades son <b>tipadas</b>". Esto quiere decir que una entidad se define como un conjunto de campos de un tipo específico, y cada fila de la tabla representa esa entidad y ninguna otra. Este efecto, es la principal ventaja de una base de datos schemaless.</div><div><br /></div><div>Entonces, relacionando los conceptos: <b>La mayoría de los proyectos, de un tiempo a esta parte, necesitan estructuras dinámicas; las bases de datos relacionales persisten estructuras estáticas; Las bases de datos NoSql/Schemaless persisten estructuras dinámicas. ==> Las bases de datos NoSql/Schemaless se adaptan mejor a la mayoría de los proyectos de un tiempo a esta parte.</b></div><div><b><br /></b></div><div>Sumado a esto, el diseño presentado se vuelve muy ineficiente al intentar ejecutar consultas que filtren alguna entidad dinámica por un grupo de valores (consulta trivial en una entidad estática).</div><div><br /></div><div>Habiendo expuesto de esta manera el "por y para qué", indaguemos brevemente en como funciona, para luego dejar algunos links de utilidad a diferentes implementaciones tales como CoachDB, DB2 pureXML, Google BigTable.</div><div><br /></div><div><b>Supongamos un ejemplo sencillo en el cual debamos almacenar los datos de una persona: Nombre, Apellido, Fecha de nacimiento, y Teléfonos (si, más de uno). </b></div><div><b><br /></b></div><div>Un esquema posible para una base de datos relacional sería:</div><div style="text-align: center;"><img src="http://4.bp.blogspot.com/-fM_lXx79d94/TWcUfjNYxPI/AAAAAAAABo0/NV0nmkQ4ErY/s400/CopyofEsquemaCat%25C3%25A1logo.png" style="cursor:pointer; cursor:hand;width: 400px; height: 109px;" border="0" alt="" id="BLOGGER_PHOTO_ID_5577449195781539058" /></div><div style="text-align: left;">Este mismo diseño representado en una estructura schemaless, podría explicarse en una tabla con un solo campo: PERSONA (claramente, no es necesario que se halle en una tabla, puede ser un archivo de texto en un filesystem, o cualquier tipo de almacenamiento). Luego, este <b>store</b>, deberá poder representar la estructura de manera flexible.</div><div style="text-align: left;">Una buena estrategia para lograrlo es representar los datos utilizando una nomenclatura que al tiempo que describe su estructura, representa la información. Una "lenguaje" que cumple con estas características es XML. Por lo tanto, en un enfoque schemaless, un store debería almacenar la siguiente estructura (por cada entidad persistida):</div><div style="text-align: left;"><persona id="x"></persona></div><div style="text-align: left;"><span class="Apple-style-span" style="white-space: pre;"><br /><pre><br />&lt;persona id="xx"&gt;<br />&lt;nombre&gt;xxxx&lt;/nombre&gt;<br />&lt;apellido&gt;xxxx&lt;/apellido&gt;<br />&lt;fechaNacimiento&gt;xx/xx/xxxx&lt;/fechaNacimiento&gt;<br />&lt;telefonos&gt;<br />&lt;telefono id="xx" descripcion="xxxxxx"&gt;<br /> &lt;codigoPais&gt;xx&lt;/codigoPais&gt;<br /> &lt;codigoArea&gt;xx&lt;/codigoArea&gt;<br /> &lt;numero&gt;xxxxx&lt;/numero&gt;<br />&lt;/telefono&gt;<br />&lt;telefono id="xx" descripcion="xxxxxx"&gt;<br /> &lt;codigoPais&gt;xx&lt;/codigoPais&gt;<br /> &lt;codigoArea&gt;xx&lt;/codigoArea&gt;<br /> &lt;numero&gt;xxxxx&lt;/numero&gt;<br />&lt;/telefono&gt;<br />&lt;/telefonos&gt;<br />&lt;/persona&gt;<br /><br /></pre><br /></span></div><div style="text-align: left;"><div style="text-align: left;">Nótese que para lograr ser autodescriptivo, XML almacena la estructura en su contenido (repitiendo esta información gran cantidad de veces. Anotemos esto del lado de los bemoles de este enfoque).</div><div style="text-align: left;"><br /></div><div style="text-align: left;">La flexibilidad comienza cuando el mismo store, puede almacenar un XML diferente:</div><div style="text-align: left;"><div style="text-align: left; "><persona id="x" tipo="proveedor"></persona></div><div style="text-align: left; "><span class="Apple-style-span" style="white-space: pre;"><br /><span class="Apple-style-span" style="font-family: monospace; font-size: 13px; ">&lt;persona id="xx" tipo="proveedor" &gt;</span><br /><pre> &lt;nombre&gt;xxxx&lt;/nombre&gt;<br />&lt;apellido&gt;xxxx&lt;/apellido&gt;<br />&lt;fechaNacimiento&gt;xx/xx/xxxx&lt;/fechaNacimiento&gt;<br />     &lt;CUIT&gt;xxxx&lt;/CUIT&gt;<br />&lt;telefonos&gt;<br />&lt;telefono id="xx" descripcion="xxxxxx"&gt;<br /> &lt;codigoPais&gt;xx&lt;/codigoPais&gt;<br /> &lt;codigoArea&gt;xx&lt;/codigoArea&gt;<br /> &lt;numero&gt;xxxxx&lt;/numero&gt;<br />&lt;/telefono&gt;<br />&lt;telefono id="xx" descripcion="xxxxxx"&gt;<br /> &lt;codigoPais&gt;xx&lt;/codigoPais&gt;<br /> &lt;codigoArea&gt;xx&lt;/codigoArea&gt;<br /> &lt;numero&gt;xxxxx&lt;/numero&gt;<br />&lt;/telefono&gt;<br />&lt;/telefonos&gt;<br />&lt;/persona&gt;<br /><br /></pre></span></div><div style="text-align: left; "><div style="text-align: left; ">Ahora bien, ¿Cómo logramos obtener un dato dentro de esta estructura? </div><div style="text-align: left; ">Para el caso de XML, existe un standard (definido por la W3C) conocido como <a href="http://www.w3.org/TR/xpath/">XPath</a>. Este standard, permite recorrer y extraer una parte específica dentro de un XML. Por ejemplo: /persona/nombre -> retorna <pre>&lt;nombre&gt;xxxxx&lt;/nombre&gt;</pre>. Para redoblar la apuesta, W3C también definió como parte standard <a href="http://www.w3.org/XML/Query/">XQuery</a>, que permite realizar operaciones más complejas sobre un XML (Ej: <a href="http://www.stylusstudio.com/xquery_flwor.html">FLWOR</a>).</div><div style="text-align: left; "><br /></div><div style="text-align: left; ">Una base de datos que soporte estas tecnologías, podría considerarse una base NoSQL.</div><div style="text-align: left; "><br /></div><div style="text-align: left; ">Cabe aclarar que XML no es el único "lenguaje" que permite representar estructuras dinámicas. Otro ejemplo de esto es <a href="http://www.json.org/">JSON (JavaScript Object Notation)</a>, preferido por ejemplo por <a href="http://labs.google.com/papers/bigtable.html">Google BigTable</a>.</div><div style="text-align: left; "><br /></div><div style="text-align: left; ">A continuación una serie de links útiles para conocer distintas tecnologías aplicadas a NoSQL.</div><div style="text-align: left; "><ul><li>IBM DB2 pureXML:</li><ul><li>Sitio oficial:<a href="http://www-01.ibm.com/software/data/db2/xml/">http://www-01.ibm.com/software/data/db2/xml/</a></li><li>Quick Start: <a href="http://www.ibm.com/developerworks/data/library/techarticle/dm-0603saracco2/">http://www.ibm.com/developerworks/data/library/techarticle/dm-0603saracco2/</a></li></ul><li>Tutorial XPATH: <a href="http://www.w3schools.com/xpath/default.asp">http://www.w3schools.com/xpath/default.asp</a></li><li>Tutorial XQuery: <a href="http://www.w3schools.com/xquery/default.asp">http://www.w3schools.com/xquery/default.asp</a></li><li>CoachDB: <a href="http://couchdb.apache.org/">http://couchdb.apache.org/</a></li><li>BigTable: <a href="http://blogs.xingular.net/santiago/bases-de-datos/entendiendo-el-modelo-de-datos-de-google-big-table/">http://blogs.xingular.net/santiago/bases-de-datos/entendiendo-el-modelo-de-datos-de-google-big-table/</a></li><li>NoSql: <a href="http://nosql-database.org/">http://nosql-database.org/</a></li></ul>Espero les interese el tema y lo investiguen. Queda pendiente combinar estos conceptos con algo de almacenamiento distrubuido, teorema CAP, escalabilidad y performance, pero creo que es mucho para un solo POST.</div></div></div></div>

                  <!-- <hr>

                  <ul class="pager">
                      
                      <li class="previous">
                          <a href="/es/2011/01/09/desarrollo-php/" data-toggle="tooltip" data-placement="top" title="Desarrollo PHP">&larr; Previous Post</a>
                      </li>
                      
                      
                      <li class="next">
                          <a href="/es/2011/03/17/como-configurar-virtual-hosts-en-apache/" data-toggle="tooltip" data-placement="top" title="Como configurar Virtual Hosts en Apache (algo básico, para no olvidar)">Next Post &rarr;</a>
                      </li>
                      
                  </ul> -->

              </div>
          </div>
      </div>
    </div>
</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://twitter.com/nohorbee">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://www.facebook.com/nohorbee">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://github.com/nohorbee">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; OurBit 2015</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>


</body>

</html>
