<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Entendiendo los conceptos de DevOps y la transformación cultural que estos traen aparejada">

    <title>Docker en acción I - OurBit</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Go to www.addthis.com/dashboard to customize your tools -->
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-55d608d53393428d" async="async"></script>
    <!-- Post Header -->
    <!--Google Analytics-->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-66576431-1', 'auto');
      ga('send', 'pageview');

    </script>

    <link rel="canonical" href="http://ourbit.github.io//es/2015/12/03/docker-in-action-IoIII/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/es">OurBit</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/es">Inicio</a>
                </li>
                <li>
                    <a href="/es/about">Acerca</a>
                </li>
                <li>
                    <a href="/es/archives">archivo</a>
                </li>
                <li>
                
                    
                    <a href="/en/2015/12/03/docker-in-action-IoIII/" >English Version</a>
                
              </li>

                <!-- 
                <li>
                    <a href="/es/en/about/">About</a>
                </li>
                
                <li>
                    <a href="/es/about/">Acerca de</a>
                </li>
                
                <li>
                    <a href="/es/archives/">Archivo</a>
                </li>
                
                <li>
                    <a href="/en/archives/">Archives</a>
                </li>
                
                <li>
                    <a href="/en/about/">About</a>
                </li>
                
                <li>
                    <a href="/en/es/about/">Acerca de</a>
                </li>
                
                <li>
                    <a href="/en/es/archives/">Archivo</a>
                </li>
                
                <li>
                    <a href="/es/en/archives/">Archives</a>
                </li>
                
                <li>
                    <a href="/en/feed.xml"></a>
                </li>
                
                <li>
                    <a href="/en/"></a>
                </li>
                 -->
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <script>
$(window).scroll(function(e) {


     if($(window).scrollTop() <= $(document).height()/2) {
        oVal = ($(window).scrollTop() / 170);
    } else {
        oVal = ($(document).height() -
        $(window).scrollTop() -
        $(window).height()) / 170;

    }



    $(".blur").css("opacity", oVal);
    

});
</script>

<div class="img-src" style="background-image: url('/img/header-background.jpg')"></div>
<div class="img-src blur" style="background-image: url('/img/header-background-blur.jpg')"></div>

<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Docker en acción I</h1>
                    
                    <span class="meta">Publicado por nohorbee el
                      
                      
  
  3 de
  
  Diciembre
  


de 2015


                    </span>
                </div>
            </div>
        </div>
    </div>
</header>
<!-- Post Content -->
<article>
    <div class="content-wrapper">
      <div class="container">
          <div class="row">
              <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

  				<p>Hace unos (cuantos) años, hablar de <em>escalabilidad</em> traía a la mesa una serie de sorpresas de todo tipo. Gente hablando de <em>escalabilidad</em> como una cualidad del <em>hardware</em>, gente demasiado soprendida al escuchar que el que escala no es el <em>hardware</em> sino que las aplicaciones deben estar diseñadas de forma que puedan escalar, y por supuesto, la poca distinción entre <em>escalabilidad</em> horizontal y vertical.<br />
Afortunadamente, en estos días, el concepto ha sido digerido, explicado y aparentemente entendido, pero sigue resultando curioso entender por qué durante tantos años, hubo tanta confusión al respecto.<br />
No se si es causa o efecto de esta <em>nueva era</em>, pero la virtualización juega un rol principal, y especialmente, la virtualización mediante <em>containers</em>.<br />
Este es el primer <em>post</em> de una saga de tres, en la cual se cubrirán los conceptos básicos de <em>escalabilidad</em>, el rol/cultura <em>DevOps</em>, introducción a <em>Docker</em>, una explicación y guía para su instalación, primeros pasos y configuración de una <em>docker regisrty</em>. En este primer post, <em>DevOps</em>, y <em>escalabilidad</em>.
<!--MORE--></p>

<h2 id="los-devops">Los DevOps</h2>

<p>Durante mucho tiempo el rol del desarrollador se encontraba bien definido y diferenciado del rol del operador. El desarrollador <strong>construía</strong> software mientras que el operador se encargaba de la <strong>infraestructura</strong> y el <em>deployment</em> de los <strong>paquetes</strong> de software a instalar. La industria del software mantuvo con orgullo esta separación alegando que el desarrollador podía abstraerse por completo del hardware y el modo de <em>deploy</em>, concentrándose en escribir y refinar código.  <strong>Empieza a ser menos sorprendente que muchos desarrolladores no pudieran escribir código</strong> <strong><em>escalable</em></strong>.<br />
Al abstraerse por completo, el desarrollador no solo se despreocupaba del hardware y la plataforma que fuera a ejecutar sus programas; también se despreocupaba de la <em>topología</em> de dicha infraestructura. No era necesario saber si el servidor estaría corriendo en un <em>Intel, AMD u otro fabricante</em>, ni conocer el sistema operativo (en el caso de <em>Java</em>, se suponía que la <em>JVM</em> exponía una plataforma unificada). Pero tampoco parecía ser necesario saber si habría una máquina como servidor o si serían 10, si estarían en <em>cluster</em>, que pasaría si una máquina se encontrara apagada, etc. Como consecuencia, y a modo de ejemplo, guardar los datos del usuario <em>logueado</em> en una sesión <em>HTTP</em> resultaba tan sencillo y beneficioso que se convirtió en un dogma del desarrollo de aplicaciones <em>web</em>.</p>

<p>Si bien muchas de las abstracciones resultaron medianamente beneficiosas (medianamente: no resulta tan distractivo conocer el <em>hardware</em> donde correrá nuestra aplicación), otras se volvieron extremadamente inconvenientes. El desarrollo de aplicaciones <em>que escalen</em> es un claro ejemplo de los inconvenientes de la abstracción total.<br />
El concepto de <em>DevOps</em> surge como una alternativa a esta abstracción (o al menos una redefinición). Si bien para la mayoría de las empresas <em>DevOps</em> es un rol más bien vinculado con el <em>Ops</em>, el concepto radica en una cultura de colaboración entre los desarrolladores y los operadores que beneficia el desarrollo, prueba, y <em>releases</em> frecuentes y confiables. Como un efecto colateral (positivo), los desarrolladores se involucran en forma temprana en el entendimiento de la infraestructura pudiendo tenerla en cuenta al escribir las aplicaciones (y descartando aquella información que no les resulte relevante).</p>

<h2 id="escalabilidad">Escalabilidad</h2>

<p><strong>Una aplicación escala si puede ajustarse a una mayor exigencia de carga</strong>.</p>

<h3 id="escalabilidad-vertical">Escalabilidad Vertical</h3>

<p>Procesadores más potentes, con mayor cantidad de <em>cores</em> pueden procesar mayor cantidad de <em>threads</em>. Más memoria puede almacenar mayor cantidad de datos de los procesos en ejecución, y de esa forma, una aplicación puede soportar mayor carga. A este tipo de <em>escalabilidad</em> se la conoce como <em>escalabilidad vertical</em>.<br />
Una ventaja (relativa), es que puede lograrse aprovechando capacidades de los lenguajes más populares (como ser JAVA). Pero una gran desventaja es que, llegado a un punto, el aumento de <em>performance</em> en relación al aumento de <em>carga</em> se vuelve asintótico.</p>

<p><img src="/img/posts/verticalScaling.png" alt="Escalabilidad Vertical - Performance / Carga" /></p>

<p>En la imagen se puede ver como, a medida que aumenta la carga, la performance aumenta cada vez con mayor dificultad hasta llegar a un punto en donde no puede aumentar más. Esto implica que todos los usuarios de una aplicación, comenzarán a experimentar una baja de performance, o incluso, una interrupción total del sistema.<br />
Al <em>escalar verticalmente</em>, incorporando un servidor con mayores prestaciones de hardware, logramos mejorar la performance. Pero como se puede ver al comparar las curvas con la línea de <em>escalabilidad perfecta</em> (o <em>escalabilidad lineal</em>), el punto en donde el nuevo servidor deja de soportar la carga de trabajo, ocurre bastante antes de alcanzar la <em>escalabilidad perfecta</em>. Una progresión de este comportamiento indicaría que, en cierto punto, invertir en <em>hardware</em> más potente (y costoso), no lograría acercarnos a la <em>escalabilidad perfecta</em>, alcanzando un <strong>límite de escalabilidad</strong> (también asintótico).</p>

<p><img src="/img/posts/verticalScalingSummary.png" alt="Escalabilidad Vertical - Ganancia / Potencia" /></p>

<h3 id="escalabilidad-horizontal">Escalabilidad Horizontal</h3>

<p>Para superar las limitaciones presentadas por la <em>escalabilidad vertical</em>, se produjo un cambio de paradigma en donde, en lugar de pensar en equipos con más potencia, se piensa en mayor cantidad de equipos con menor potencia.<br />
A diferencia de la <em>escalabilidad vertical</em>, en este paradigma, la administración se vuelve más compleja, y el desarrollo necesita considerar el hecho de que el software estará distribuido en distintos equipos (con recursos separados). Pero, además de superar las limitaciones de la <em>escalabiliad vertical</em>, el hecho de poder <em>escalar</em> aumentando la cantidad de equipos (o nodos), termina siendo menos costoso e incluso, aprovechando técnicas avanzadas de virtualización como las ofrecidas por <em>Docker</em>, pueden automatizarse para responder dinámicamente a la carga en tiempo real.</p>

<p><img src="/img/posts/horizontalScaling.png" alt="Escalabilidad Horizontal - Performance / Carga" /></p>

<p>Como se ve en la imagen, hay un punto en donde un servidor ya no logra mantener la performance necesaria para soportar la carga. En el momento donde la curva de performance cruza la recta de <em>escalabilidad perfecta</em> (o quizás un poco antes), es tiempo de iniciar un nuevo servidor. De esta manera, por aproximación, se logra mantener una relación carga/performance que se ajusta a la <em>escalabilidad perfecta</em> y, en tanto y en cuanto el inicio de un nuevo servidor pueda realizarse de manera automática y veloz, el aprovisionamiento podría realizarse <em>a demanda</em>.</p>

<p>El concepto de <em>virtualización mediante containers</em> apunta exáctamente a brindar una solución para ese requerimiento. Como se verá en el siguiente <em>post</em>, <em>Docker</em> ofrece una manera más eficaz de <em>virtualización</em> que las tradicionales <em>Virtual Machine</em>, y si bien sus beneficios resultan instantáneos, se vuelven un verdadero diferencial al pensar en pequeños nodos que se <em>levantan</em> en cuestión de segundos cuando es necesario.<br />
Como veremos también, el hecho de que estos nodos levanten tan rápidamente, es una combinación de las capacidades de la tecnología (que reutiliza el Kernel de un solo Sistema Operativo que ya está corriendo) y el diseño de componentes pequeños que levantarán al mismo tiempo en distintos nodos (reduciendo el tiempo de arranque y paralelizandolo).</p>


                  <!-- <hr>

                  <ul class="pager">
                      
                      <li class="previous">
                          <a href="/en/2015/12/03/docker-in-action-IoIII/" data-toggle="tooltip" data-placement="top" title="Docker in acción I">&larr; Previous Post</a>
                      </li>
                      
                      
                      <li class="next">
                          <a href="/en/2016/04/24/nobel-02-swagger-support/" data-toggle="tooltip" data-placement="top" title="Nobel 0.2 supports Swagger and RAML">Next Post &rarr;</a>
                      </li>
                      
                  </ul> -->
                  <div id="disqus_thread"></div>
                  <script type="text/javascript">
                      /* * * CONFIGURATION VARIABLES * * */
                      var disqus_shortname = 'ourbitblog';

                      /* * * DON'T EDIT BELOW THIS LINE * * */
                      (function() {
                          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                      })();
                  </script>
                  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
              </div>
          </div>
      </div>
    </div>
</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>


                    <li>
                        <a href="skype:norberto.herz">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-skype fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>

                    
                    <li>
                        <a href="https://twitter.com/nohorbee">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://www.facebook.com/nohorbee">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    

                    <li>
                        <a href="https://www.linkedin.com/pub/norberto-herz/5/887/177">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>

                    
                    <li>
                        <a href="https://github.com/nohorbee">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; OurBit 2016</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>

<script type="text/javascript">
var addthis_share = addthis_share || {}
addthis_share = {
  passthrough : {
    twitter: {
      via: "nohorbee"
    }
  }
}
</script>


</body>

</html>
